<div class="task-list">
  <h1 class="text-2xl font-bold text-center my-4">Task Management</h1>
  <nav class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 shadow-lg rounded-lg flex justify-between items-center">
    <div class="flex space-x-4">
      <button (click)="filter='all'; applyFilter()" class="btn px-4 py-2 rounded-lg bg-white text-blue-600 font-semibold shadow-md hover:bg-gray-100 transition duration-300">All</button>
      <button (click)="filter='completed'; applyFilter()" class="btn px-4 py-2 rounded-lg bg-white text-green-600 font-semibold shadow-md hover:bg-gray-100 transition duration-300">Completed</button>
      <button (click)="filter='pending'; applyFilter()" class="btn px-4 py-2 rounded-lg bg-white text-red-600 font-semibold shadow-md hover:bg-gray-100 transition duration-300">Incomplete</button>
    </div>
    <div class="flex items-center space-x-4">
      <input type="text" placeholder=" Search tasks ..." [(ngModel)]="searchQuery" (input)="searchTasks(searchQuery)" class="px-4 py-2 rounded-lg bg-white text-gray-700 shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400 transition duration-300" />

      <button (click)="addTask()" class="btn px-4 py-2 rounded-lg bg-green-500 text-white font-semibold shadow-md hover:bg-green-400 transition duration-300">Add Task</button>
    </div>
  </nav>
  <app-notification class="py-5"></app-notification>
  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Status</th>
        <th>Due Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let task of filteredTasks">
        <td>{{ task.title }}</td>
        <td>
            <div class="flex items-center space-x-4">
            <label class="flex items-center space-x-2">
              <input type="radio" [checked]="task.status" (change)="changeStatus(task, true)" name="status-{{task.id}}" class="form-radio text-green-500 focus:ring-green-400" />
              <span class="text-sm font-medium text-gray-700">Completed</span>
            </label>
            <label class="flex items-center space-x-2">
              <input type="radio" [checked]="!task.status" (change)="changeStatus(task, false)" name="status-{{task.id}}" class="form-radio text-red-500 focus:ring-red-400" />
              <span class="text-sm font-medium text-gray-700">Pending</span>
            </label>
            </div>
        </td>
        <td>{{ task.dueDate | date }}</td>
        <td>
          <button (click)="editTask(task)" class="btn">Edit</button>
          <button *ngIf="task.id !== undefined" (click)="deleteTask(task.id)" class="btn">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>